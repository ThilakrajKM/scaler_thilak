package in.thilakraj;

import java.util.Arrays;
import java.util.List;

public class MajorityElement {

    public static void main(String[] args) {
//        System.out.println("Ans = " + repeatedNumber(Arrays.asList(1000441,1000441,1000994)));
//        System.out.println("Ans = " + repeatedNumber(Arrays.asList(1,1,1,2,3,5,7)));
//        System.out.println("Ans = " + repeatedNumber(Arrays.asList(1000274,1000802,1000914,1000847,1000073,1000562,1000741,1000802,1000965,1000371,1000406,1000441,1000179,1000802,1000552,1000802,1000100,1000724,1000024,1000134,1000313,1000802,1000977,1000777,1000206,1000412,1000802,1000570,1000802,1000518,1000691,1000959,1000903,1000802,1000802,1000273,1000802,1000802,1000265,1000706,1000677,1000802,1000843,1000802,1000061,1000802,1000802,1000975,1000403,1000150,1000959,1000889,1000177,1000416,1000491,1000177,1000807,1000989,1000489,1000447,1000802,1000860,1000104,1000802,1000570,1000015,1000802,1000802,1000593,1000802,1000802,1000326,1000802,1000802,1000120,1000772,1000965,1000802,1000887,1000802,1000567,1000973,1000577,1000820,1000922,1000802,1000982,1000525,1000369,1000829,1000740,1000159,1000909,1000510,1000402,1000802,1000802,1000239,1000247,1000328,1000427,1000802,1000519,1000296,1000114,1000149,1000802,1000802,1000107,1000841,1000017,1000909,1000192,1000425,1000088,1000077,1000506,1000163,1000465,1000626,1000371,1000802,1000179,1000306,1000159,1000802,1000802,1000848,1000138,1000306,1000802,1000881,1000828,1000802,1000008,1000802,1000456,1000802,1000880,1000579,1000434,1000163,1000188,1000802,1000802,1000231,1000945,1000802,1000070,1000727,1000802,1000802,1000802,1000051,1000644,1000802,1000802,1000057,1000967,1000802,1000802,1000366,1000802,1000485,1000802,1000061,1000212,1000192,1000577,1000559,1000802,1000189,1000802,1000802,1000107,1000177,1000011,1000802,1000987,1000400,1000802,1000402,1000024,1000009,1000118,1000046,1000349,1000250,1000282,1000138,1000405,1000295,1000802,1000878,1000166,1000802,1000135,1000005,1000723,1000491,1000802,1000802,1000802,1000802,1000786,1000306,1000802,1000802,1000802,1000639,1000683,1000880,1000329,1000408,1000822,1000947,1000802,1000455,1000037,1000311,1000802,1000802,1000339,1000802,1000519,1000401,1000802,1000256,1000802,1000802,1000503,1000802,1000787,1000802,1000802,1000384,1000456,1000845,1000802,1000802,1000000,1000213,1000629,1000802,1000226,1000802,1000802,1000107,1000100,1000802,1000587,1000882,1000049,1000623,1000802,1000178,1000788,1000648,1000802,1000567,1000802,1000802,1000802,1000085,1000109,1000965,1000353,1000802,1000802,1000802,1000982,1000663,1000829,1000578,1000753,1000802,1000802,1000529,1000060,1000047,1000802,1000750,1000780,1000277,1000802,1000751,1000590,1000802,1000953,1000240,1000218,1000659,1000802,1000001,1000766,1000802,1000508,1000802,1000802,1000802,1000028,1000802,1000493,1000077,1000427,1000505,1000752,1000802,1000747,1000126,1000269,1000297,1000394,1000257,1000708,1000802,1000802,1000697,1000802,1000802,1000802,1000921,1000559,1000450,1000206,1000802,1000802,1000149,1000031,1000866,1000721,1000497,1000654,1000057,1000802,1000130,1000523,1000577,1000750,1000536,1000339,1000796,1000802,1000802,1000197,1000584,1000939,1000802,1000633,1000553,1000124,1000086,1000619,1000802,1000415,1000802,1000125,1000802,1000104,1000348,1000464,1000187,1000887,1000369,1000281,1000802,1000802,1000526,1000685,1000029,1000922,1000191,1000802,1000802,1000802,1000298,1000802,1000176,1000295,1000802,1000802,1000238,1000802,1000802,1000314,1000303,1000802,1000698,1000309,1000677,1000606,1000802,1000701,1000898,1000579,1000990,1000513,1000435,1000192,1000960,1000324,1000509,1000906,1000802,1000492,1000705,1000641,1000479,1000662,1000642,1000791,1000942,1000802,1000802,1000100,1000296,1000802,1000802,1000533,1000802,1000038,1000802,1000254,1000802,1000802,1000802,1000802,1000393,1000802,1000435,1000484,1000802,1000847,1000802,1000360,1000961,1000544,1000914,1000802,1000802,1000663,1000802,1000802,1000519,1000802,1000928,1000802,1000802,1000802,1000802,1000258,1000108,1000544,1000802,1000169,1000097,1000802,1000306,1000977,1000802,1000153,1000802,1000802,1000039,1000099,1000802,1000468,1000862,1000802,1000802,1000802,1000068,1000802,1000161,1000179,1000710,1000802,1000802,1000802,1000802,1000540,1000802,1000115,1000802,1000802,1000089,1000802,1000798,1000802,1000802,1000544,1000979,1000850,1000085,1000197,1000802,1000802,1000031,1000704,1000515,1000802,1000198,1000382,1000597,1000613,1000857,1000798,1000319,1000266,1000154,1000753,1000017,1000004,1000802)));
        System.out.println("Ans = " + repeatedNumber(Arrays.asList(1000442, 1000206, 1000956, 1000143, 1000426, 1000592, 1000426, 1000136, 1000654, 1000426, 1000115, 1000121, 1000311, 1000451, 1000265, 1000426, 1000426, 1000254, 1000501, 1000715, 1000635, 1000602, 1000943, 1000119, 1000426, 1000426, 1000426, 1000378, 1000975, 1000292, 1000851, 1000426, 1000426, 1000181, 1000355, 1000426, 1000248, 1000143, 1000426, 1000985, 1000426, 1000634, 1000426, 1000945, 1000880, 1000426, 1000426, 1000135, 1000426, 1000402, 1000156, 1000426, 1000835, 1000599, 1000192, 1000451, 1000426, 1000241, 1000124, 1000100, 1000812, 1000611, 1000426, 1000641, 1000426, 1000426, 1000461, 1000872, 1000973, 1000426, 1000438, 1000517, 1000243, 1000658, 1000738, 1000396, 1000426, 1000426, 1000068, 1000427, 1000426, 1000504, 1000426, 1000462, 1000294, 1000504, 1000421, 1000883, 1000414, 1000426, 1000937, 1000426, 1000426, 1000819, 1000400, 1000323, 1000855, 1000779, 1000353, 1000426, 1000426, 1000506, 1000779, 1000487, 1000696, 1000729, 1000426, 1000025, 1000357, 1000946, 1000101, 1000459, 1000893, 1000426, 1000450, 1000491, 1000049, 1000420, 1000426, 1000103, 1000638, 1000315, 1000011, 1000426, 1000861, 1000111, 1000030, 1000477, 1000454, 1000309, 1000426, 1000756, 1000880, 1000213, 1000426, 1000206, 1000426, 1000436, 1000426, 1000026, 1000426, 1000756, 1000039, 1000426, 1000426, 1000426, 1000686, 1000426, 1000665, 1000426, 1000890, 1000992, 1000235, 1000701, 1000305, 1000482, 1000405, 1000426, 1000282, 1000191, 1000663, 1000199, 1000426, 1000119, 1000901, 1000998, 1000323, 1000426, 1000426, 1000844, 1000032, 1000737, 1000756, 1000426, 1000426, 1000275, 1000426, 1000635, 1000426, 1000426, 1000021, 1000426, 1000426, 1000322, 1000426, 1000501, 1000987, 1000995, 1000567, 1000795, 1000092, 1000758, 1000012, 1000426, 1000196, 1000641, 1000455, 1000426, 1000085, 1000933, 1000730, 1000426, 1000602, 1000549, 1000211, 1000025, 1000986, 1000349, 1000264, 1000426, 1000024, 1000426, 1000426, 1000680, 1000869, 1000320, 1000020, 1000194, 1000426, 1000426, 1000426, 1000716, 1000356, 1000748, 1000201, 1000426, 1000426, 1000002, 1000215, 1000850, 1000184, 1000803, 1000688, 1000561, 1000258, 1000426, 1000426, 1000612, 1000426, 1000246, 1000109, 1000156, 1000426, 1000355, 1000657, 1000929, 1000953, 1000159, 1000426, 1000919, 1000408, 1000778, 1000038, 1000046, 1000300, 1000272, 1000800, 1000426, 1000442, 1000551, 1000825, 1000501, 1000081, 1000426, 1000157, 1000203, 1000426, 1000022, 1000704, 1000426, 1000426, 1000034, 1000426, 1000163, 1000140, 1000426, 1000426, 1000704, 1000880, 1000707, 1000877, 1000214, 1000426, 1000426, 1000675, 1000312, 1000025, 1000426, 1000426, 1000792, 1000426, 1000326, 1000491, 1000633, 1000861, 1000426, 1000693, 1000426, 1000961, 1000647, 1000426, 1000426, 1000426, 1000426, 1000366, 1000871, 1000426, 1000904, 1000998, 1000114, 1000697, 1000426, 1000586, 1000426, 1000026, 1000994, 1000127, 1000205, 1000148, 1000280, 1000778, 1000380, 1000426, 1000122, 1000426, 1000426, 1000702, 1000426, 1000234, 1000426, 1000091, 1000426, 1000483, 1000712, 1000426, 1000425, 1000426, 1000692, 1000847, 1000331, 1000795, 1000328, 1000426, 1000677, 1000094, 1000426, 1000839, 1000890, 1000065, 1000641, 1000426, 1000426, 1000426, 1000463, 1000426, 1000445, 1000415, 1000243, 1000426, 1000426, 1000426, 1000029, 1000426, 1000426, 1000426, 1000572, 1000390, 1000931, 1000413, 1000606, 1000425, 1000426, 1000039, 1000657, 1000069, 1000998, 1000120, 1000426, 1000063, 1000015, 1000396, 1000426, 1000257, 1000397, 1000161, 1000426, 1000426, 1000493, 1000426, 1000501, 1000124, 1000426, 1000424, 1000902, 1000426, 1000426, 1000048, 1000426, 1000426, 1000394, 1000535, 1000426, 1000899, 1000654, 1000778, 1000120, 1000426, 1000426, 1000426, 1000568, 1000677, 1000426, 1000426, 1000723, 1000997, 1000426, 1000934, 1000881, 1000426, 1000687, 1000426, 1000487, 1000426, 1000426, 1000426, 1000131, 1000396, 1000107, 1000902, 1000426, 1000426, 1000525, 1000985, 1000426, 1000255, 1000991, 1000426, 1000426, 1000426, 1000020, 1000426, 1000426, 1000450, 1000455, 1000283, 1000426, 1000426, 1000426, 1000938, 1000426, 1000255, 1000426, 1000248, 1000099, 1000622, 1000426, 1000329, 1000005, 1000826, 1000060, 1000313, 1000426, 1000426, 1000426, 1000662, 1000426, 1000426, 1000426, 1000906, 1000482, 1000426, 1000349, 1000426, 1000968, 1000426, 1000426, 1000239, 1000426, 1000480, 1000357, 1000417, 1000311, 1000510, 1000085, 1000652, 1000426, 1000548, 1000426, 1000426, 1000426, 1000766, 1000751, 1000426, 1000685, 1000695, 1000455, 1000218, 1000426, 1000426, 1000426, 1000426, 1000696, 1000179, 1000506, 1000426, 1000408, 1000812, 1000871, 1000720, 1000144, 1000213, 1000083, 1000931, 1000128, 1000250, 1000426, 1000783, 1000426, 1000149, 1000376, 1000228, 1000426, 1000812, 1000000, 1000685, 1000525, 1000476, 1000826, 1000737, 1000426, 1000130, 1000561, 1000426, 1000281, 1000426, 1000866, 1000453, 1000240, 1000074, 1000426, 1000388, 1000426, 1000794, 1000426, 1000244, 1000426, 1000969, 1000817, 1000036, 1000426, 1000426, 1000490, 1000426, 1000795, 1000050, 1000808, 1000426, 1000426, 1000872, 1000426, 1000668, 1000426, 1000995, 1000140, 1000710, 1000983, 1000929, 1000434, 1000425, 1000019, 1000232, 1000892, 1000426, 1000561)));
    }

    public static int repeatedNumber(final List<Integer> a) {


        if (a.size() == 1) {
            return a.get(0);
        }

        int majorityElement1 = a.get(0);
        int majorityElement2 = a.get(1);
        int freq1 = 1, freq2 = 1;

        for (int i = 2; i < a.size(); i++) {

            if (majorityElement1 == majorityElement2) {
                freq1++;
                freq2--;
            }

            if (a.get(i) == majorityElement1) {
                freq1++;
            } else if (a.get(i) == majorityElement2) {
                freq2++;
            } else if (freq1 == 0) {
                majorityElement1 = a.get(i);
                freq1++;
            } else if (freq2 == 0) {
                majorityElement2 = a.get(i);
                freq2++;
            } else {
                freq1--;
                freq2--;
            }


        }

        freq2 = 0;
        freq1 = 0;

        for (int i = 0; i < a.size(); i++) {
            if (a.get(i) == majorityElement1) {
                freq1++;
            }
            if (a.get(i) == majorityElement2) {
                freq2++;
            }
        }

        return freq1 >= a.size() / 3 ? majorityElement1 : (freq2 >= a.size() / 3 ? majorityElement2 : -1);
    }
}
